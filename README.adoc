= The Tyto Project (Version 2)

The Tyto Project is a collection of open source FPGA designs and IP for retro computing and embedded systems, with an emphasis on VHDL and support for both AMD/Xilinx and Intel/Altera targets.

This repository is incomplete. Work to port all the designs and IP from the https://github.com/amb5l/tyto_project[previous version] is ongoing.

A simpler directory structure is used:

* `src` contains source code for designs as well as common IP.

* `build` contains makefiles for designs on supported targets. The subdirectory name consists of the design name followed by the target name. For simulations, the target name indicates the simulator: `xsim` for Xilinx Vivado, `nvc` for <<doc/nvc.adoc#,NVC>>, `ghdl` for <<doc/ghdl.adoc#,GHDL>> and `sim` for Questa, ModelSim etc.

* `doc` contains documentation.

* `submodules` contains git submodules.

NOTE: ALL designs have submodule dependencies. Please remember to initialise submodules when cloning this repo!

'''

== FPGA Designs

[cols="10,20,70"]
|===
|Name|Supported Boards|Description

|<<./doc/designs/ddr3_test/ddr3_test.adoc#,ddr3_test >> 
|Digilent Nexys Video, QMTech Wukong
|A simple DDR3 SDRAM tester based on https://github.com/jorisvr/vhdl_prng[Joris van Rantwijk's Pseudo Random Number Generator]. Hacks the generated HDL to generate the 200MHz IODELAYCTRL reference clock in the DDR3 IP core MMCM.

|<<./doc/designs/hdmi_tpg/hdmi_tpg.adoc#,hdmi_tpg>>
|Digilent Nexys Video, QMTech Wukong
|HDMI test pattern generator. Displays a test pattern on an HDMI monitor at various SD and HD TV resolutions. Includes test audio output.

|<<./doc/designs/mb_cb/mb_cb.adoc#,mb_cb>>
|Digilent Nexys Video, QMTech Wukong
|A MicroBlaze CPU with a character buffer display, supporting 480i60 and 576i50 resolutions.

|<<./doc/designs/mb_cb_ps2/mb_cb_ps2.adoc#,mb_cb_ps2>>
|Digilent Nexys Video
|The <<./doc/designs/mb_cb/mb_cb.adoc#,mb_cb>> design with an added PS/2 keyboard interface.

|<<./doc/designs/mb_fb/mb_fb.adoc#,mb_fb>>
|Digilent Nexys Video, QMTech Wukong
|A MicroBlaze CPU with a 24 bpp high resolution graphics frame buffer held in DDR3 SDRAM, with simple demo application based on link:https://github.com/tuupola/hagl[Mike Tuupola's hagl graphics library]. 

|<<doc/designs/np6532_poc/np6532_poc.adoc#,np6532_poc>>
|Digilent Nexys Video, QMTech Wukong, Altera Cyclone V Dev Kit, Terasic DE10-Nano
|A proof-of-concept demonstration of the <<doc/common/retro/np65/np65.adoc#,np65>> 6502 compatible CPU core clocked at 32MHz. Runs https://github.com/Klaus2m5/6502_65C02_functional_tests[Klaus Dormann's 6502 functional test] in a loop.

|===

== Simulation Designs

[cols="10,20,70"]
|===
|Name|Supported Simulators|Description

|<<doc/designs/np6532_functest/np6532_functest.adoc#,np6532_functest>>
|Vivado, NVC
|A <<doc/common/retro/np65/np65.adoc#,np65>> CPU core running https://github.com/Klaus2m5/6502_65C02_functional_tests[Klaus Dormann's 6502 functional test].

|<<doc/designs/tb_saa5050/tb_saa5050.adoc#,tb_saa5050>>
|Vivado, GHDL
|A https://en.wikipedia.org/wiki/Mullard_SAA5050[SAA5050] teletext character generator. 

|<<doc/designs/tb_saa5050d/tb_saa5050d.adoc#,tb_saa5050d>>
|Vivado, GHDL
|Progressive scan (scan doubling) equivalent of <<doc/designs/tb_saa5050/tb_saa5050.adoc#,tb_saa5050>>.

|<<doc/designs/tb_ps2_host/tb_ps2_host.adoc#,tb_ps2_host>>
|Vivado, multisim
|Testbench for PS/2 host IP.

|<<doc/designs/tb_ps2_to_usbhid/tb_ps2_to_usbhid.adoc#,tb_ps2_to_usbhid>>
|Vivado, multisim
|Testbench for PS/2 host to USB HID IP.

|<<doc/designs/T65_functest/T65_functest.adoc#,T65_functest>>
|Vivado, NVC, GHDL, Questa/ModelSim
|A https://github.com/mist-devel/T65[T65 6502 compatible core] running https://github.com/Klaus2m5/6502_65C02_functional_tests[Klaus Dormann's 6502 functional test].

|=== 
Note: *multisim* signifies multiple simulator support (GHDL, NVC and Questa/ModelSim).

== Tools

1. https://www.gnu.org/software/make/[GNU make] is required, along with https://git-scm.com/[git] and assorted utilities that are usually present on Linux systems. <<doc/msys2.adoc#,MSYS2>> is a quick and easy way to get these tools running on Windows.

2. Building an FPGA design requires vendor tools, and produces projects that can be opened and worked on in the vendor IDE:

* For AMD/Xilinx FPGAs, *Vivado* is required - the free *Standard Edition* is sufficient. Versions *2022.1* and *2021.2* are supported. Note that designs including a https://en.wikipedia.org/wiki/MicroBlaze[Microblaze soft CPU] also require *Vitis*. These tools may be obtained from https://www.xilinx.com/support/download.html[here].

* For Intel/Altera FPGAs, *Quartus Prime* is required - the free *Lite* edition is sufficient. This includes a free edition of the https://en.wikipedia.org/wiki/ModelSim[Questa] simulator. Version *21.1* is supported. This may be obtained from https://www.intel.co.uk/content/www/uk/en/software/programmable/quartus-prime/download.html[here].

3. The free open source <<doc/nvc.adoc#,NVC>> and <<doc/ghdl.adoc#,GHDL>> simulators are supported by some simulations.

4. Some builds include https://www.python.org/downloads/[Python 3] scripts.

5. Projects including a 6502 or compatible CPU require the the *ca65* assembler and *ld65* linker from the https://cc65.github.io/[cc65] toolchain.

== License

This file is part of The Tyto Project. The Tyto Project is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

The Tyto Project is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along with The Tyto Project. If not, see https://www.gnu.org/licenses/.
